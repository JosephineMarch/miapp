/* --- VARIABLES Y ESTILOS GLOBALES --- */
:root {
    --primary-dark: #1C1C1E;
    --background-color: #F8FAFC; 
    --surface-color: #FFFFFF;    
    --text-color: #1f2937;       
    --text-muted: #8A8A8E;
    --accent-magenta: #15dffa;  
    --accent-pink-soft: #b0edf3;
    --accent-purple: #9333EA;   
    --accent-purple-soft: #E9D5FF; 
    --border-radius: 1.25rem; 
    --card-shadow: 0 8px 24px rgba(0, 0, 0, 0.05);
    --font-family: 'Poppins', sans-serif;
}

/* --- CLASES DE UTILIDAD PERSONALIZADAS --- */
.bg-primary-dark { background-color: var(--primary-dark); }
.text-primary-dark { color: var(--primary-dark); }
.bg-surface { background-color: var(--surface-color); }
.text-text-muted { color: var(--text-muted); }
.bg-accent-pink-soft { background-color: var(--accent-pink-soft); }
.bg-accent-purple { background-color: var(--accent-purple); }
.text-accent-purple { color: var(--accent-purple); }
.bg-accent-purple-soft { background-color: var(--accent-purple-soft); }
.focus\:ring-accent-purple:focus { --tw-ring-color: var(--accent-purple); }

body { background-color: var(--background-color); font-family: var(--font-family); color: var(--text-color); }
body.logged-in { padding-bottom: 96px; }
#login-view { min-height: 100vh; }

/* --- ANIMACIONES Y EFECTOS --- */
@keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0px); } }
.floating { animation: float 3s ease-in-out infinite; }
.card-hover { border-radius: var(--border-radius); box-shadow: var(--card-shadow); transition: transform 0.2s, box-shadow 0.2s; }
.card-hover:hover { transform: translateY(-4px); box-shadow: 0 12px 32px rgba(0, 0, 0, 0.07); }
.progress-bar { transition: width 0.5s ease-in-out; }

/* --- NAVEGACIÓN INFERIOR --- */
#bottom-nav { height: 80px; background-color: var(--primary-dark); border-top-left-radius: var(--border-radius); border-top-right-radius: var(--border-radius); padding: 0 0.5rem; position: fixed; bottom: 0; left: 0; right: 0; max-width: 28rem; margin-left: auto; margin-right: auto; z-index: 40; }
.tab-btn { color: var(--text-muted); transition: all 0.2s ease-in-out; }
.tab-active i { color: var(--accent-purple); background-color: var(--accent-purple-soft); border-radius: 9999px; padding: 0.5rem 1.25rem; transform: translateY(-4px); box-shadow: 0 4px 14px rgba(0, 0, 0, 0.1); }
.tab-active span { display: none; }

/* === Estilos para el Explorador de Nubes v3 (Final) === */
.explorer-layout { display: flex; flex-direction: column; gap: 1rem; height: calc(100vh - 220px); }
@media (min-width: 768px) { .explorer-layout { flex-direction: row; } }

.explorer-sidebar { background-color: var(--surface-color); padding: 1rem; border-radius: var(--border-radius); box-shadow: var(--card-shadow); overflow-y: auto; flex-shrink: 0; height: 40%; }
@media (min-width: 768px) { .explorer-sidebar { height: auto; flex-basis: 33%; } }

.explorer-content { flex-grow: 1; background-color: var(--surface-color); padding: 1rem; border-radius: var(--border-radius); box-shadow: var(--card-shadow); display: flex; flex-direction: column; overflow-y: hidden; }
#files-container { overflow-y: auto; flex-grow: 1; }

/* Estilos para el Árbol de Carpetas */
#folder-tree-container ul { list-style: none; padding: 0; }
#folder-tree-container li > div { display: flex; align-items: center; }
.folder-item .fa-chevron-right { transition: transform 0.2s ease-in-out; }
.folder-item .rotate-90 { transform: rotate(90deg); }
