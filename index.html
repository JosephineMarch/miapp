<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crea Infantil - Centro Creativo</title>
    <meta name="description" content="Tu centro de productividad y creatividad, sincronizado en la nube y disponible offline.">
    <meta name="theme-color" content="#1D9A8D">
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiQ3JlYSBJbmZhbnRpbCIsImRpc3BsYXkiOiJzdGFuZGFsb25lIiwiYmFja2dyb3VuZF9jb2xvciI6IiNGRkZGRkYiLCJ0aGVtZV9jb2xvciI6IiMxRDlBOEQifQ==">
    
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
</head>
<body>
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <symbol id="icon-tasks" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"/><path d="m9 17-3-3 1.41-1.41L9 14.17l4.59-4.59L15 11l-6 6z"/></symbol>
        <symbol id="icon-inbox" viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 12h-4c0 1.66-1.34 3-3 3s-3-1.34-3-3H5V5h14v10z"/></symbol>
        <symbol id="icon-finance" viewBox="0 0 24 24"><path d="M7 18h2V6H7v12zm4 0h2V6h-2v12zm-8 4h18V4H3v18zM19 6v12h2V6h-2zM5 6v12h2V6H5z"/></symbol>
        <symbol id="icon-report" viewBox="0 0 24 24"><path d="M4 9h4v11H4zm6 3h4v8h-4zm6-6h4v14h-4z"/></symbol>
        <symbol id="icon-routine" viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7v-5z"/></symbol>
        <symbol id="icon-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></symbol>
        <symbol id="icon-pause" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></symbol>
        <symbol id="icon-reset" viewBox="0 0 24 24"><path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"/></symbol>
        <symbol id="icon-add" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></symbol>
        <symbol id="icon-delete" viewBox="0 0 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></symbol>
        <symbol id="icon-edit" viewBox="0 0 24 24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></symbol>
        <symbol id="icon-moon" viewBox="0 0 24 24"><path d="M9.37 5.51A7.35 7.35 0 0 0 9.1 7.5c0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27C17.45 18.2 14.9 20 12 20c-4.41 0-8-3.59-8-8 0-2.91 1.8-5.45 4.37-6.49z"/></symbol>
        <symbol id="icon-sun" viewBox="0 0 24 24"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.03-3.63 2.94-6.54 6.57-6.57L10 4.41c-4.22.36-7.64 3.78-8 8zM20 13h2c-.36-4.22-3.78-7.64-8-8v2.02c3.63.03 6.54 2.94 6.57 6.57L20 13z"/></symbol>
        <symbol id="icon-google" viewBox="0 0 48 48"><path fill="#4285F4" d="M45.12 24.5c0-1.56-.14-3.06-.4-4.5H24v8.51h11.84c-.51 2.75-2.06 5.08-4.39 6.64v5.52h7.11c4.16-3.83 6.56-9.47 6.56-16.17z"/><path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.8l-7.11-5.52c-2.16 1.45-4.92 2.3-8.78 2.3-6.68 0-12.35-4.48-14.38-10.48H2.1v5.7C6.02 42.66 14.48 48 24 48z"/><path fill="#FBBC05" d="M9.62 28.18c-.48-1.45-.76-3-.76-4.68s.28-3.23.76-4.68V13.1H2.1c-1.4 2.78-2.23 5.92-2.23 9.22s.84 6.44 2.23 9.22l7.52-5.72z"/><path fill="#EA4335" d="M24 9.48c3.52 0 6.62 1.22 9.09 3.52l6.29-6.29C35.91 2.82 30.46 0 24 0 14.48 0 6.02 5.34 2.1 13.1l7.52 5.72C11.65 13.96 17.32 9.48 24 9.48z"/></symbol>
        <symbol id="icon-trophy" viewBox="0 0 24 24"><path d="M19 4h-2.5l-1-2h-7l-1 2H5c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 15c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"/><path d="M12 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></symbol>
        <symbol id="icon-forward" viewBox="0 0 24 24"><path d="m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14l-6-6z"/></symbol>
        <symbol id="icon-logout" viewBox="0 0 24 24"><path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/></symbol>
        <symbol id="icon-pomodoro" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/><path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></symbol>
    </svg>
    
    <div id="login-container" class="container">
        <div class="card" style="max-width: 400px; text-align: center;">
            <svg class="icon" style="font-size: 60px; color: var(--primary-color); margin-bottom: 20px;"><use href="#icon-tasks"/></svg>
            <h2>Bienvenida a tu Centro Creativo</h2>
            <p style="margin: 15px 0;">Inicia sesiÃ³n para guardar y sincronizar tu progreso en todos tus dispositivos.</p>
            <button id="loginBtn" class="btn-primary" style="width: 100%;">
                <svg class="icon"><use href="#icon-google"/></svg>
                Iniciar sesiÃ³n con Google
            </button>
        </div>
    </div>

    <div id="app-container" class="container">
        <header class="header">
            <div class="header-left">
                <h1>Crea Infantil</h1>
                <div id="focusStreak" class="focus-streak" title="DÃ­as seguidos de actividad registrada"></div>
            </div>
            <div class="user-info">
                 <span id="user-display"></span>
                 <button class="btn-icon" id="logoutBtn" title="Cerrar sesiÃ³n"><svg class="icon"><use href="#icon-logout"/></svg></button>
                 <button class="theme-toggle" id="theme-toggle" title="Cambiar tema">
                    <svg class="icon"><use href="#icon-moon"/></svg>
                 </button>
            </div>
        </header>

        <nav class="nav-tabs">
            <button class="nav-tab active" data-tab="routines"><svg class="icon"><use href="#icon-routine"/></svg> Rutina Diaria</button>
            <button class="nav-tab" data-tab="tasks"><svg class="icon"><use href="#icon-tasks"/></svg> Proyectos</button>
            <button class="nav-tab" data-tab="inbox"><svg class="icon"><use href="#icon-inbox"/></svg> Ideas</button>
            <button class="nav-tab" data-tab="finances"><svg class="icon"><use href="#icon-finance"/></svg> Finanzas</button>
            <button class="nav-tab" data-tab="reports"><svg class="icon"><use href="#icon-report"/></svg> Reportes y Logros</button>
        </nav>

        <!-- PestaÃ±a Rutina Diaria -->
        <div class="tab-content active" id="routines">
            <div class="card">
                <h3>ğŸ—“ï¸ Mi Semana</h3>
                <div class="weekly-view" id="weekly-view"></div>
            </div>
            <div class="card">
                <div class="card-header">
                    <h3>ğŸ¯ Obligatorias del DÃ­a</h3>
                    <button class="btn-icon" id="addObligatoryRoutineBtn" title="AÃ±adir rutina obligatoria"><svg class="icon"><use href="#icon-add"/></svg></button>
                </div>
                <div class="item-list" id="routine-obligatorias-list"></div>
            </div>
             <div class="card">
                <div class="card-header">
                    <h3>âœ¨ Extras</h3>
                    <button class="btn-icon" id="addExtraRoutineBtn" title="AÃ±adir rutina extra"><svg class="icon"><use href="#icon-add"/></svg></button>
                </div>
                <div class="item-list" id="routine-extras-list"></div>
            </div>
        </div>

        <!-- PestaÃ±a Proyectos -->
        <div class="tab-content" id="tasks">
             <div class="card">
                <h3>ğŸ“ Tareas de Proyecto</h3>
                <div style="display:flex; gap:10px;">
                    <input type="text" id="taskInput" placeholder="Ej: Bocetar los personajes principales">
                    <button class="btn-primary" id="addTaskBtn" title="AÃ±adir Tarea"><svg class="icon"><use href="#icon-add"/></svg></button>
                </div>
                <div class="item-list" id="taskListPending"></div>
                <hr class="divider" id="completed-divider" style="display:none;">
                <h3 id="completed-title" style="display:none; margin-top:20px;">âœ… Tareas Completadas</h3>
                <div class="item-list" id="taskListCompleted"></div>
            </div>
             <div class="card">
                <h3>ğŸ… Foco Pomodoro</h3>
                <div id="pomodoroStatus" class="pomodoro-status">Listo para empezar.</div>
                <div class="pomodoro-timer" id="pomodoroTimer">25:00</div>
                <div class="pomodoro-controls" id="pomodoroControls">
                    <!-- Los botones se generan con JS -->
                </div>
            </div>
        </div>

        <!-- PestaÃ±a Ideas -->
        <div class="tab-content" id="inbox">
            <div class="card">
                <h3>ğŸ’¡ Bandeja de Ideas RÃ¡pidas</h3>
                <p class="item-details" style="margin-bottom:15px;">Captura aquÃ­ todas esas ideas, enlaces o pensamientos que se te cruzan. Â¡Libera tu mente!</p>
                <textarea id="inboxText" rows="3" placeholder="Escribe tu idea, un fragmento de texto..."></textarea>
                <input type="text" id="inboxUrl" placeholder="Pega un enlace (opcional)">
                <button class="btn-primary" id="addInboxBtn" style="width:100%"><svg class="icon"><use href="#icon-add"/></svg> Guardar Idea</button>
            </div>
            <div class="card">
                <h3>ğŸ“¦ Ideas Guardadas</h3>
                <div class="item-list" id="inboxList"></div>
            </div>
        </div>

        <!-- PestaÃ±a Finanzas -->
        <div class="tab-content" id="finances">
            <div class="card">
                <h3>ğŸ’° Registrar Movimiento</h3>
                <form id="finance-form">
                    <div class="finance-input-group">
                        <input type="number" id="financeAmount" placeholder="Monto" required>
                        <select id="financeType">
                            <option value="expense">Gasto</option>
                            <option value="income">Ganancia</option>
                        </select>
                    </div>
                    <input type="text" id="financeDescription" placeholder="DescripciÃ³n (Ej: Factura de luz, Venta de prints)" required>
                    <button type="submit" class="btn-primary" style="width:100%;">
                        <svg class="icon"><use href="#icon-add"/></svg> Registrar
                    </button>
                </form>
            </div>
            <div class="card">
                <h3>ğŸ“ˆ Resumen del Mes</h3>
                <div class="finance-summary" id="financeSummary">
                    <div class="summary-item">
                        <span class="summary-label">Ganancias</span>
                        <span class="summary-value income" id="summaryIncome">$0.00</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Gastos</span>
                        <span class="summary-value expense" id="summaryExpense">$0.00</span>
                    </div>
                    <div class="summary-item balance">
                        <span class="summary-label">Balance</span>
                        <span class="summary-value" id="summaryBalance">$0.00</span>
                    </div>
                </div>
            </div>
            <div class="card">
                <h3>ğŸ“‹ Movimientos Recientes</h3>
                <div class="item-list" id="transactionList"></div>
            </div>
        </div>
        
        <!-- PestaÃ±a Reportes y Logros -->
        <div class="tab-content" id="reports">
            <div class="card">
                <h3>ğŸ“Š Tu Productividad General</h3>
                <div class="report-controls">
                    <button class="btn-subtle active" data-period="week">Semana</button>
                    <button class="btn-subtle" data-period="month">Mes</button>
                    <button class="btn-subtle" data-period="year">AÃ±o</button>
                </div>
                <div class="chart-container">
                    <canvas id="tasksCompletedChart"></canvas>
                </div>
                 <div class="chart-container">
                    <canvas id="routineConsistencyChart"></canvas>
                </div>
                <div id="reportSummary"></div>
            </div>
            <div class="card">
                <h3>ğŸ† Â¡Mis Logros!</h3>
                <p class="item-details" style="margin-bottom:15px;">Completa objetivos para desbloquear premios y mantener la motivaciÃ³n.</p>
                <div class="achievements-grid" id="achievementsGrid"></div>
            </div>
        </div>

    </div>
    
    <div class="notification" id="notification"></div>
    
    <script src="script.js" type="module"></script>
</body>
</html>
